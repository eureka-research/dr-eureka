<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DrEureka | Language Model Guided Sim-To-Real Transfer</title>

    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

    <link rel="stylesheet" href="./static/css/bulma.min.css">
    <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
    <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="./static/css/academicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link rel="stylesheet" href="./static/css/index.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="./static/js/fontawesome.all.min.js"></script>
    <script src="./static/js/bulma-carousel.min.js"></script>
    <script src="./static/js/bulma-slider.min.js"></script>
    <script src="./static/js/index.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body>


    <section class="hero">
        <div class="hero-body">
            <div class="container is-max-desktop">
                <div class="columns is-centered">
                    <div class="column has-text-centered">
                        <h1 class="title is-1 publication-title">DrEureka: <br>
                            Language Model Guided Sim-To-Real Transfer</h1>

                        <div class="is-size-5 publication-authors">
                            <span class="author-block">
                                <a target="_blank" href="https://jasonma2016.github.io/">
                                    Jason&#160;Ma*</a>
                                    <a href="mailto:jasonyma@seas.upenn.edu">
                                        <span class="icon">
                                            <i class="fa fa-envelope"></i>
                                        </span>
                                    </a>
                                    <sup>1</sup>,
                                <a target="_blank"
                                    href="https://www.seas.upenn.edu/~wjhliang/">William&#160;Liang*</a><sup>1</sup>,
                                <a target="_blank"
                                    href="https://www.linkedin.com/in/hungju-wang">Hungju&#160;Wang</a><sup>1</sup>,
                                    <a target="_blank"
                                    href="https://www.linkedin.com/in/hungju-wang">Sam&#160;Wang</a><sup>1</sup>,
                                <br>
                                <a target="_blank" href="https://www.cs.utexas.edu/~yukez/">Yuke&#160;Zhu</a><sup>2</sup>,
                                <a target="_blank" href="https://jimfan.me/">Linxi&#160;"Jim"&#160;Fan</a><sup>2</sup>,

                                <a target="_blank"
                                    href="https://obastani.github.io/">Osbert&#160;Bastani</a><sup>1</sup>,
                                <a target="_blank"
                                    href="https://www.seas.upenn.edu/~dineshj/">Dinesh&#160;Jayaraman</a><sup>1</sup>,
                            </span>
                        </div>

                        <div class="is-size-5 publication-authors">
                            <span class="author-block"><sup>1</sup>UPenn; </span>
                            <span class="author-block"><sup>2</sup>NVIDIA; </span>
                            <span class="author-block"><sup>3</sup>UT Austin; </span>
                            <span class="author-block"><sup>*</sup>Equal Contribution</span>                        </div>

                        <!-- <div class="is-size-5 publication-authors">
                        <span class="author-block">
                                    <span class="icon">
                                        <i class="fa fa-envelope"></i>
                                    </span>
                            Corresponding authors: TODO
                        </span>
                        </div> -->

                        <!-- <div class="is-size-5 publication-authors">
                        <span class="author-block">Work done during the first author's internship at NVIDIA</span>
                        </div> -->

                        <div class="is-size-5 publication-authors">

                            <span class="author-block">
                                        <span class="icon">
                                            <i class="fa fa-envelope"></i>
                                        </span>
                                Corresponding authors: jasonyma@seas.upenn.edu, wjhliang@seas.upenn.edu
                            </span>
                            </div>

                        <div class="column has-text-centered">
                            <div class="publication-links">
                                <!-- TODO REPLACE ALL LINKS -->
                                <!-- <span class="link-block">
                                    <a target="_blank" href=""
                                        class="external-link button is-normal is-rounded is-dark">
                                        <span class="icon">
                                            <i class="ai ai-arxiv"></i>
                                        </span>
                                        <span>arXiv</span>
                                    </a>
                                </span> -->

                                <span class="link-block">
                                    <a target="_blank" href="paper.pdf"
                                        class="external-link button is-normal is-rounded is-dark">
                                        <span class="icon">
                                            <i class="fas fa-file-pdf"></i>
                                        </span>
                                        <span><b>PDF</b></span>
                                    </a>
                                    <a target="_blank" href=""
                                        class="external-link button is-normal is-rounded is-dark">
                                        <span class="icon">
                                            <i class="fab fa-github"></i>
                                        </span>
                                        <span><b>Code</b></span>
                                    </a>

                                </span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" style="padding: 0">
        <div class="container is-max-desktop">
            <!-- Abstract. -->
            <!-- <div class="columns is-centered has-text-centered">
                <img src="figures/droid_teaser.png" class="interpolation-image" alt=""
                style="display: block; width: 100%; margin-left: auto; margin-right: auto" />
            </div> -->
            <div>
                <video poster="" id="" autoplay controls muted loop width="100%" playbackRate=2.0 style="border-radius: 5px;">
                    <source src="videos/dreureka_teaser.mp4" type="video/mp4">
                </video>
            </div>
        </div>
    </section>
    <br>
    <br>

    <section class="section">
        <div class="container is-max-desktop">
            <!-- Abstract. -->
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <h2 class="title is-3">Abstract</h2>
                    <div class="content has-text-justified">
                        <p style="font-size: 125%">
                            Transferring policies learned in simulation to the real world is a promising strategy for acquiring robot skills at scale. However, sim-to-real approaches typically rely on manual design and tuning of the task reward function as well as the simulation physics parameters, rendering the process slow and human-labor intensive. In this paper, we investigate using Large Language Models (LLMs) to automate and accelerate sim-to-real design. Our LLM-guided sim-to-real approach requires only the physics simulation for the target task and automatically constructs suitable reward functions and domain randomization distributions to support real-world transfer. We first demonstrate our approach can discover sim-to-real configurations that are competitive with existing human-designed ones on \rebuttal{quadruped locomotion and dexterous manipulation tasks}. Then, we showcase that our approach is capable of solving novel robot tasks, such as quadruped balancing and walking atop a yoga ball, without iterative manual design.                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    

    <section class="section">
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered ">
                    <div class="row is-full-width">
                        <h2 class="title is-3"><span class="dvima">DrEureka Walking Globe Gallery</span></h2>
                        <p style="font-size: 125%">
                        DrEureka policy exhibits impressive robustness in the real-world, adeptly balancing and walking atop a yoga ball under various real-world, un-controlled terrain condition changes and disturbances.   
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="hero is-light is-small"> -->
        <div>
            <div class="hero-body">
                <div class="container">
                    <div id="results-carousel" class="carousel results-carousel">
                        <div class="item">
                            <video poster="" id="" controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/gallery/C0014_walk_sideway.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id="" autoplay controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/gallery/C0014_height_obstacle.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id="" controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/gallery/C0014_bridge.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id="" controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/gallery/C0015_crossroad.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id="" controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/gallery/C0013_upenn_grass_to_road2.mp4" type="video/mp4">
                            </video>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered ">
                    <div class="row is-full-width">
                        <p style="font-size: 125%">
                            We also tried kicking or deflating the ball; DrEureka policy is robust to these disturbances and can recover from them!
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="hero-body">
                <div class="container">
                    <div id="results-carousel" class="carousel results-carousel">
                        <div class="item">
                            <video poster="" id=""  controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/kick/C0020_clip1.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id=""  controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/kick/C0021_clip1.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id="" controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/kick/C0021_clip2.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="item">
                            <video poster="" id=""  controls muted loop height="100%" playbackRate=2.0>
                                <source src="videos/kick/C0020_clip2.mp4" type="video/mp4">
                            </video>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered ">
                    <div class="row is-full-width">
                        <h2 class="title is-3"><span class="dvima">DrEureka Rewards, DR parameters, and Policies (TODO; Fix this section)</span></h2>
                        <p style="font-size: 125%">
                            In this demo, we visualize the unmodified best DrEureka reward and DR parameters
                            for each
                            task and visualize the policy deployed in the training simulation environment as well as the real-world environment.
                        </p>
                    </div>
                </div>
            </div>
            <br>
            <div class="columns" style="align-items: end;">
                <div class="column is-one-fifths">
                    <div class="col-md-4 col-sm-4 col-xs-4">
                        <img src="videos/tasks/walking_globe.png" width="50%" style="border-radius: 5px;" alt='<b>Walking Globe</b>, best DrEureka reward and DR parameters:
                        [sep]
                        assets/reward_functions/walking_globe.txt [sep] assets/domain_randomizations/walking_globe.txt' onclick="populateDemo(this, 1);">
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-4">
                        <img src="videos/tasks/cube_rotation.png" width="50%" style="border-radius: 5px;" alt='<b>Cube Rotation</b>, best DrEureka reward and DR parameters:
                        [sep]
                        assets/reward_functions/cube_rotation.txt [sep] assets/domain_randomizations/cube_rotation.txt' onclick="populateDemo(this, 1);">  
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-4">
                        <img src="videos/tasks/forward_locomotion.png" width="50%" style="border-radius: 5px;" alt='<b>Forward Locomotion</b>, best DrEureka reward and DR parameters:
                        [sep]
                        assets/reward_functions/forward_locomotion.txt [sep] assets/domain_randomizations/forward_locomotion.txt' onclick="populateDemo(this, 1);">  
                    </div>
                </div> 
                <div class="column is-two-fifths" style="padding-top:12px; padding-bottom:12px;">
                    <div class="row border rounded" style = "display:flex; height: 20em;  overflow: hidden;">
                        <video id="demo-video-1" style="border-radius: 5px;  object-fit: cover;" autoplay loop muted webkit-playsinline
                            playsinline onclick="setAttribute('controls', 'true');">
                            <source id="expandedImg-1" src="videos/placeholder.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="column is-two-fifths" style="padding-top:12px; padding-bottom:12px;">
                    <div class="row border rounded" style = "display:flex; height: 20em ; overflow: hidden;">
                        <video id="demo-video-2" style="border-radius: 5px; object-fit: cover;" autoplay loop muted webkit-playsinline
                            playsinline onclick="setAttribute('controls', 'true');">
                            <source id="expandedImg-2" src="videos/placeholder.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div id="imgtext-1" style="font-size: 1.5em">Select an image above:</div>
                <div>
                    <pre
                        class="p-1"><code class="language-python" id="answer-1">DrEureka responses shown within code block.</code></pre>
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered ">
                    <div class="row is-full-width">
                        <h2 class="title is-3"><span class="dvima">DrEureka Components</span></h2>

                        <!-- <img src="assets/images/eureka.png" class="interpolation-image" alt=""
                            style="display: block; margin-left: auto; margin-right: auto" />
                        <br> -->
                        <div class="columns is-centered has-text-centered">
                        <video poster="" id="" autoplay controls muted width="90%" playbackRate=2.0 style="border-radius: 5px;">
                            <source src="videos/concept.mp4" type="video/mp4">
                        </video>
                        </div>
                        <span style="font-size: 125%"><b>Overview.</b> DrEureka takes the task and safety instruction, along with environment source code, and runs Eureka to generate a regularized
                            reward function and policy. Then, it tests the policy under different simulation conditions to build a reward-aware physics prior, which is
                            provided to the LLM to generate a set of domain randomization (DR) parameters. Finally, using the synthesized reward and DR parameters,
                            it trains policies for real-world deployment.</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
   



    <section class="section">
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered ">
                    <div class="row is-full-width">
                        <h2 class="title is-2"><span class="dvima">Experiments</span></h2>
                        <p style="font-size: 125%">
                            TODO.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>


   

<section class="section" id="BibTeX">
    <div class="container is-max-widescreen content">
        <h2 class="title">BibTeX</h2>
        <pre><code>@article{ma2024dreureka,
    title   = {DrEureka: Language Model Guided Sim-To-Real Transfer},
    author  = {Yecheng Jason Ma and William Liang and Hungju Wang and Yuke Zhu and Linxi Fan and Osbert Bastani and Dinesh Jayaraman}
    year    = {2024},
}
</code></pre>
    </div>
</section>

    <footer class="footer">
        <div class="container">
            <div class="columns is-centered">
                <div class="column">
                    <div class="content has-text-centered">
                        <p>
                            Website template borrowed from <a
                                href="https://github.com/nerfies/nerfies.github.io">NeRFies</a>
                                and <a href="https://eureka-research.github.io/">Eureka</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

</body>

<script>

    timeoutIds = [];

    function populateDemo(imgs, num) {
        // Get the expanded image
        var expandImgReal = document.getElementById("expandedImg-" + num);
        var expandImgSim = document.getElementById("expandedImg-" + num+1);
        // Get the image text
        var imgText = document.getElementById("imgtext-" + num);
        var answer = document.getElementById("answer-" + num);

        // Use the same src in the expanded image as the image being clicked on from the grid
        expandImgReal.src = imgs.src.replace(".png", ".mp4");
        expandImgSim.src = imgs.src.split(".png")[0] + "_sim.mp4";
        var videoReal = document.getElementById('demo-video-' + num);
        // or video = $('.video-selector')[0];
        videoReal.pause()
        videoReal.load();
        videoReal.play();
        videoReal.removeAttribute('controls');

        var videoSim = document.getElementById('demo-video-2');
        // or video = $('.video-selector')[0];
        videoSim.pause()
        videoSim.load();
        videoSim.play();
        videoSim.removeAttribute('controls');

        console.log(expandImgReal.src);

        console.log(expandImg.src);
        // Use the value of the alt attribute of the clickable image as text inside the expanded image
        var qa = imgs.alt.split("[sep]");
        imgText.innerHTML = qa[0];
        answer.innerHTML = "";
        // Show the container element (hidden with CSS)
        expandImg.parentElement.style.display = "block";
        for (timeoutId of timeoutIds) {
            clearTimeout(timeoutId);
        }

        // NOTE (wliang): Modified from original to read from file instead
        fetch(qa[1])
            .then(response => response.text())
            .then(contents => {
                // Call the processData function and pass the contents as an argument
                typeWriter(contents, 0, qa[0], num);
            })
            .catch(error => console.error('Error reading file:', error));
    }

    function typeWriter(txt, i, q, num) {
        var imgText = document.getElementById("imgtext-" + num);
        var answer = document.getElementById("answer-" + num);
        if (imgText.innerHTML == q) {
            for (let k = 0; k < 5; k++) {
                if (i < txt.length) {
                    if (txt.charAt(i) == "\\") {
                        answer.innerHTML += "\n";
                        i += 1;
                    } else {
                        answer.innerHTML += txt.charAt(i);
                    }
                    i++;
                }
            }
            hljs.highlightAll();
            timeoutIds.push(setTimeout(typeWriter, 1, txt, i, q, num));
        }
    }

</script>

</html>